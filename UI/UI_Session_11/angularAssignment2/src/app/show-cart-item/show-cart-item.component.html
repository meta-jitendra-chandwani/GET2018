<head>
  <title>User Management System</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
    crossorigin="anonymous">
</head>

<body>
  <header class="border-bottom p-4 mb-2">
    <nav>
      <a routerLink="/home-cart" class="px-2 offset-md-1 text-dark">
        <i class="fas fa-leaf"></i>
      </a>
      <a routerLink="/shopping-cart" class="px-2 text-muted">
        <i class="fas fa-shopping-cart"></i>
      </a>
      <a routerLink="/shopping-cart" class="badge badge-warning p-2 rounded">{{cartList.length}}</a>
    </nav>
  </header>
  <section style="margin-left: 11rem" *ngIf="cartList!=null">

    <h1>Shopping Cart</h1>
    <section class="m-2 card col-6">

      <div class="card-body row p-4">
        <span class="col">
          You have {{cartList.length}} items in your shopping cart.
        </span>
        <span class="col text-right">
          <span class="btn btn-secondary" (click)="clearCart()">
            Clear Shopping Cart
          </span>
        </span>
      </div>


      <table class="px-10">
        <tr>
          <th class="p-2" style="flex:1">

          </th>
          <th class="p-2 text-left" style="flex:1;">
            Product
          </th>
          <th class="p-2" style="flex:2">
            Quantity
          </th>
          <th class="p-2" style="flex:1;text-align:right;">
            Price
          </th>

        </tr>
        <tr *ngFor="let item of cartList">
          <td class="p-2" style="flex:1;" *ngIf="item.quantity!=null">
            <img class="rounded-circle" height="50px" [src]="item.Product.imgUrl" alt="Card image cap ">
          </td>
          <td class="p-2 text-left" style="flex:1 " *ngIf="item.quantity!=null">
            {{item.Product.name}}
          </td>

          <td class="p-2" style="flex:2" *ngIf="item.quantity!=null">
            <!-- <a class="btn btn-secondary col-3 text-white" (click)=quantityDecrease(item.id)>-</a> -->
            {{item.quantity}}
            <!-- <a class="btn btn-secondary col-3 text-white" (click)=quantityIncrease(item.id)>+</a> -->

          </td>
          <td class="p-2 text-right" style="flex:1;" *ngIf="item.quantity!=null">
            $ {{item.Product.price}}
          </td>

        </tr>
        <tr>
          <th class="p-2 text-right" style="flex:1">
            $ {{total}}
          </th>

        </tr>

        <tr>
          <th class="p-2 text-left" style="flex:0.25">
            <button class="btn btn-primary" (click)="checkout()">Checkout</button>
          </th>
        </tr>

      </table>

    </section>
  </section>
  <section class="p-4" *ngIf="cartList==null">
    <h1>Your Cart is empty</h1>
    <button routerLink="/home-cart" class="p-2" class="btn btn-outline-secondary text-dark">
      <i class="fas fa-arrow-circle-left"></i>
      <span class="px-2"> Go back to Home</span>
    </button>
  </section>
</body>